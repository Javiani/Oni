<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width" />
	<meta charSet="utf-8" />
	<title>Oni.js - test cases</title>
	<link rel="stylesheet" href="https://bootswatch.com/5/cosmo/bootstrap.min.css" />
	<style>
		.hero {
			background: #8E2DE2;
			/* fallback for old browsers */
			background: -webkit-linear-gradient(to right, #4A00E0, #8E2DE2);
			/* Chrome 10-25, Safari 5.1-6 */
			background: linear-gradient(to right, #4A00E0, #8E2DE2);
			/* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
			padding: 50px;
			color: #fff;
			text-align: center;
		}

		.hero p {
			font-size: 20px;
		}

		.hero__logo {
			width: 200px;
			height: 150px;
			margin: 0 auto;
		}

		.hero__logo svg {
			width: 100%;
			height: 100%;
		}
	</style>
	<script defer type="text/javascript" src="./index.js"></script>
</head>

<body>

	<div class="hero">
		<div class="hero__logo">
			<svg viewBox="0 0 100 100">
				<defs>
					<linearGradient id="SvgjsLinearGradient1010">
						<stop stop-color="#ffffff" offset="0"></stop>
						<stop stop-color="#1effff" offset="1"></stop>
					</linearGradient>
				</defs>
				<g featurekey="G09qjj-0" fill="url(#SvgjsLinearGradient1010)">
					<switch xmlns="http://www.w3.org/2000/svg">
						<foreignObject requiredExtensions="http://ns.adobe.com/AdobeIllustrator/10.0/" x="0" y="0"
							width="1" height="1"></foreignObject>
						<g>
							<path fill="url(#SvgjsLinearGradient1010)"
								d="M85.832,44.734c-1.86,0-3.608,0.902-4.697,2.39H64.974c-0.386-1.704-1.058-3.301-1.959-4.743    l11.423-11.423c0.298,0.046,0.6,0.07,0.901,0.07c1.554,0,3.014-0.604,4.11-1.702c2.27-2.27,2.27-5.963,0-8.234    c-1.1-1.098-2.561-1.703-4.115-1.703s-3.017,0.605-4.117,1.704c-1.313,1.315-1.912,3.189-1.631,5.011L58.164,37.525    c-1.432-0.896-3.025-1.573-4.746-1.963V19.406c1.487-1.087,2.39-2.836,2.39-4.697c0-3.21-2.611-5.822-5.821-5.822    c-3.21,0-5.821,2.611-5.821,5.822c0,1.861,0.902,3.609,2.39,4.697v16.156c-1.72,0.39-3.305,1.077-4.735,1.974L30.387,26.103    c0.282-1.821-0.316-3.695-1.631-5.012c-1.099-1.1-2.561-1.706-4.116-1.706s-3.017,0.605-4.118,1.706    c-2.268,2.271-2.268,5.964,0.001,8.235c1.311,1.307,3.179,1.913,5.011,1.631l11.425,11.425c-0.905,1.441-1.573,3.041-1.962,4.742    H18.836c-1.088-1.488-2.836-2.39-4.696-2.39c-3.211,0-5.823,2.611-5.823,5.821c0,3.21,2.611,5.822,5.821,5.822    c1.859,0,3.608-0.902,4.698-2.39h16.166c0.394,1.698,1.068,3.291,1.974,4.726L25.535,70.154c-1.83-0.287-3.702,0.32-5.013,1.631    c-2.268,2.271-2.268,5.965,0,8.234c1.1,1.099,2.562,1.703,4.116,1.703s3.016-0.604,4.115-1.703    c1.316-1.315,1.914-3.189,1.631-5.012l11.444-11.442c1.435,0.904,3.027,1.578,4.726,1.973v16.166    c-1.488,1.089-2.39,2.837-2.39,4.697c0,3.21,2.611,5.822,5.821,5.822c3.209,0,5.821-2.612,5.821-5.822    c0-1.86-0.902-3.608-2.39-4.697V65.545c1.674-0.382,3.273-1.038,4.742-1.963l11.426,11.426c-0.282,1.821,0.316,3.695,1.631,5.011    c1.1,1.101,2.562,1.706,4.116,1.706c1.556,0,3.018-0.605,4.116-1.706c1.1-1.099,1.705-2.561,1.705-4.115    c0-1.556-0.605-3.017-1.704-4.115c-1.311-1.31-3.176-1.918-5.013-1.633L63.014,58.729c0.924-1.469,1.565-3.07,1.946-4.742h16.175    c1.089,1.487,2.837,2.39,4.696,2.39c3.211,0,5.823-2.612,5.823-5.822C91.654,47.345,89.042,44.734,85.832,44.734z M71.881,26.753    l-0.154-0.58c-0.343-1.288,0.026-2.671,0.964-3.609c1.411-1.41,3.874-1.411,5.285-0.001c1.458,1.458,1.458,3.831,0,5.289    c-0.935,0.936-2.331,1.304-3.608,0.964l-0.58-0.155c0,0-9.127,9.127-12.012,12.011c-0.576-0.69-1.215-1.328-1.906-1.907    L71.881,26.753z M26.187,28.663l-0.58,0.153c-1.278,0.339-2.676-0.031-3.611-0.964c-1.457-1.458-1.457-3.831,0-5.288    c1.413-1.413,3.876-1.413,5.287,0c0.938,0.939,1.308,2.322,0.964,3.609l-0.155,0.58L42.49,41.152    c0.075,0.075,0.273,0.273,0.061,0.785c-0.277,0.669-1.039,1.278-1.598,1.278c-0.15,0-0.26-0.046-0.37-0.155L26.187,28.663z     M17.675,51.903l-0.301,0.52c-0.669,1.153-1.909,1.87-3.235,1.87c-2.061,0-3.738-1.677-3.738-3.738    c0-2.061,1.678-3.738,3.74-3.738c1.327,0,2.565,0.716,3.231,1.87l0.301,0.52h16.998c-0.039,0.445-0.065,0.894-0.065,1.348    c0,0.455,0.027,0.903,0.066,1.349H17.675z M42.491,59.958L28.089,74.357l0.155,0.58c0.344,1.288-0.025,2.67-0.963,3.608    c-1.411,1.41-3.875,1.41-5.286,0c-1.457-1.457-1.457-3.829,0-5.288c0.703-0.703,1.639-1.09,2.635-1.09    c0.329,0,0.657,0.043,0.975,0.128l0.58,0.154l14.4-14.399c0.517-0.52,1.615,0.274,1.966,1.123    C42.763,59.685,42.565,59.883,42.491,59.958z M51.854,83.168c1.153,0.668,1.869,1.906,1.869,3.233    c0,2.062-1.676,3.738-3.737,3.738s-3.738-1.677-3.738-3.738c0-1.327,0.717-2.565,1.87-3.233l0.52-0.301c0,0,0-12.999,0-16.999    c0.445,0.04,0.893,0.066,1.348,0.066c0.453,0,0.901-0.026,1.347-0.065v16.998L51.854,83.168z M73.786,72.45l0.58-0.154    c1.279-0.339,2.675,0.029,3.61,0.965c0.706,0.706,1.095,1.644,1.095,2.643c0,0.998-0.389,1.937-1.096,2.643    c-1.409,1.413-3.872,1.415-5.285,0c-0.938-0.938-1.308-2.321-0.964-3.608l0.154-0.58L58.405,60.881l-0.718,0.511    c-2.259,1.609-4.922,2.459-7.701,2.459c-2.422,0-4.691-0.657-6.649-1.794l0.626-0.626c0.787-0.787,0.979-1.929,0.512-3.055    c-0.605-1.462-2.12-2.564-3.522-2.564c-0.705,0-1.342,0.266-1.843,0.767l-0.626,0.626c-1.138-1.957-1.796-4.227-1.796-6.649    c0-2.418,0.647-4.694,1.784-6.66l0.639,0.639c0.5,0.501,1.138,0.766,1.842,0.766h0c1.402,0,2.917-1.103,3.522-2.564    c0.466-1.126,0.275-2.268-0.512-3.056l-0.63-0.63c1.341-0.772,2.828-1.334,4.436-1.604l0.869-0.146V18.242l-0.52-0.301    c-1.153-0.667-1.87-1.905-1.87-3.232c0-2.062,1.677-3.739,3.738-3.739s3.737,1.677,3.737,3.739c0,1.328-0.716,2.566-1.869,3.232    l-0.521,0.301v19.057l0.869,0.146c5.254,0.884,9.328,4.737,10.636,9.678h-0.903c-1.643,0-2.835,1.443-2.835,3.432    c0,1.989,1.192,3.432,2.835,3.432h0.877c-0.403,1.519-1.06,2.965-1.989,4.271l-0.511,0.717L73.786,72.45z M85.831,54.293    c-1.326,0-2.564-0.716-3.232-1.869l-0.301-0.521H61.936c-0.616,0-0.751-0.973-0.751-1.348s0.135-1.349,0.751-1.349h20.362    l0.301-0.52c0.668-1.153,1.906-1.87,3.233-1.87c2.062,0,3.738,1.677,3.738,3.738C89.57,52.616,87.893,54.293,85.831,54.293z">
							</path>
						</g>
					</switch>
				</g>
			</svg>
		</div>

		<h1 class="display-1">Oni.js</h1>
		<p>A Simple State Managing library for any Javascript Applications</p>
	</div>

	<div class="demo d-flex align-items-center justify-content-center p-5">
		<button type="button" class="btn btn-primary" data-add>Add</button>
		<p class="m-0 p-4" id="counter"></p>
	</div>

	<script type="module">

		const initialState = {
			counter: 0
		}

		const store = Oni.default(initialState, {
			ADD: (state, { increment }, { dispatch }) => ({
				counter: state.counter + increment
			})
		})

		store.dispatch('ADD', { increment: 1 })

		store.subscribe((state, { action, payload }) => {
			console.group('Oni', { action, payload })
			console.log('state', state)
			console.groupEnd()
		})

		const counter = document.getElementById('counter')
		const button = document.querySelector('[data-add]')

		button.addEventListener('click', () => {
			store.dispatch('ADD', { increment: 1 })
		})

		store.subscribe((state, { action, payload }) => {
			counter.innerText = state.counter
		})

	</script>

</body>

</html>
