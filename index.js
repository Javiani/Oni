!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pandora",[],t):"object"==typeof exports?exports.pandora=t():n.pandora=t()}(this,(()=>(()=>{"use strict";var n={};return(()=>{var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n,t){var r=[],a=[],i=o(n),u=function(){return i},c=function(n){n.call&&r.push(n)},f=function(n){r=r.filter((function(t){return t!=n}))},s=function(n,t){return a.push({action:n,payload:t}),new Promise((function(o){return e((function(e){return d({action:n,payload:t},o)}))}))},d=function(n,o){var e=n.action,d=n.payload,p=void 0===d?{}:d;a.forEach((function(n){var o=n.action,e=n.payload,r=void 0===e?{}:e;o in t?Object.assign(i,t[o].call(null,i,r,{getState:u,subscribe:c,unsubscribe:f,dispatch:s})):console.log("[Pandora] Error -> No action [ ".concat(o," ] found."))})),a.length&&(r.forEach((function(n){n(i,{action:e,payload:p})})),a=[]),o(i)};return{getState:u,subscribe:c,unsubscribe:f,dispatch:s}};var o=function(n){return JSON.parse(JSON.stringify(n))},e=function(n){return requestAnimationFrame?requestAnimationFrame(n):0}})(),n})()));